<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>A2 English Exam Flashcards</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f0f2f5;
      margin: 0;
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    h1 {
      color: #333;
    }
    .flashcard {
      background: #fff;
      border-radius: 10px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      width: 90%;
      max-width: 500px;
      margin: 20px auto;
      padding: 20px;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
    }
    .flashcard:hover {
      background: #f9f9f9;
    }
    .step {
      display: none;
      margin-top: 15px;
      padding: 10px;
      border-left: 4px solid #007bff;
      background: #e9f2ff;
    }
    .step.visible {
      display: block;
      animation: fadeIn 0.3s ease-in-out;
    }
    .progress-bar {
      height: 10px;
      width: 100%;
      background: #ddd;
      border-radius: 5px;
      overflow: hidden;
      margin-bottom: 20px;
    }
    .progress {
      height: 100%;
      background: #28a745;
      width: 0%;
      transition: width 0.4s ease;
    }
    .phonetics {
      font-style: italic;
      color: #555;
      margin-top: 10px;
    }
    .audio-buttons {
      margin-top: 10px;
    }
    .audio-buttons button {
      margin-right: 8px;
      padding: 5px 10px;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-5px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>
  <h1>üìù A2 English Exam Practice ‚Äì Speaking Flashcards</h1>
  <div class="progress-bar">
    <div id="progress" class="progress"></div>
  </div>
  <div id="flashcards-container"></div>

  <script>
    let progress = 0;
    const flashcards = [
      { q: "What do you do?", ipa: "/w åt du j ä du/", a: "I work as a receptionist.", e: "Use simple present to talk about jobs.", ex: "I work as a teacher. She works as a nurse." },
      { q: "How do you ask for the bill in a restaurant?", ipa: "/ha ä du j ä √¶sk f…îr √∞…ô b…™l …™n …ô Ààr…õst…ôr…ônt/", a: "Can I have the bill, please?", e: "Use polite form 'Can I have...'", ex: "Can I have a glass of water, please?" },
      { q: "What do you say when you're late for a meeting?", ipa: "/w åt du j ä se…™ w…õn j är le…™t f…îr …ô ÀàmiÀêt…™≈ã/", a: "Sorry, I‚Äôm running late.", e: "'Running late' is common to express delay.", ex: "Sorry, I‚Äôm stuck in traffic." },
      { q: "How to say you want to look without help in a shop?", ipa: "/ha ä tu se…™ j ä w…ënt tu l äk w…™Àà√∞a ät h…õlp …™n …ô  É…ëp/", a: "I‚Äôm just looking, thanks.", e: "Polite phrase to avoid assistance.", ex: "Just browsing, thank you." },
      { q: "What do you say when you want to stop working for a moment?", ipa: "/w åt du j ä se…™ w…õn j ä w…ënt tu st…ëp Ààw…úrk…™≈ã f…îr …ô Ààmo äm…ônt/", a: "Let‚Äôs take a break.", e: "Common in work context.", ex: "Let‚Äôs get some coffee." },
      { q: "How do you ask for help politely?", ipa: "/ha ä du j ä √¶sk f…îr h…õlp p…ôÀàla…™tli/", a: "Can you help me, please?", e: "Use polite question form.", ex: "Excuse me, can you help me find this?" },
      { q: "How do you say you didn‚Äôt understand something?", ipa: "/ha ä du j ä se…™ j ä Ààd…™d…ônt Àå ånd…ôrÀàst√¶nd Ààs åmŒ∏…™≈ã/", a: "I don‚Äôt understand.", e: "Simple way to ask for repetition.", ex: "Can you repeat that, please?" },
      { q: "What do you say to ask someone to speak slower?", ipa: "/w åt du j ä se…™ tu √¶sk Ààs åmw ån tu spiÀêk Ààslo ä…ôr/", a: "Speak slowly, please.", e: "Helps in conversation if you miss information.", ex: "Can you speak more slowly, please?" },
      { q: "How do you introduce where you're from?", ipa: "/ha ä du j ä Àå…™ntr…ôÀàdus w…õr j är fr åm/", a: "I‚Äôm from Brazil.", e: "Used in self-introductions.", ex: "I‚Äôm from Italy. Where are you from?" },
      { q: "What do you say when traveling for work?", ipa: "/w åt du j ä se…™ w…õn Ààtr√¶v…ôl…™≈ã f…îr w…úrk/", a: "I‚Äôm here on business.", e: "Used to clarify purpose of travel.", ex: "I‚Äôm not on vacation. I‚Äôm here on business." }
    ];

    const container = document.getElementById('flashcards-container');

    function speak(text, rate = 1) {
      const utterance = new SpeechSynthesisUtterance(text);
      utterance.lang = 'en-US';
      utterance.rate = rate;
      speechSynthesis.speak(utterance);
    }

    flashcards.forEach((card, index) => {
      const el = document.createElement('div');
      el.className = 'flashcard';
      el.innerHTML = `
        <strong>${index + 1}. Question:</strong> ${card.q}
        <div class="phonetics">/ ${card.ipa} /</div>
        <div class="audio-buttons">
          <button onclick="speak('${card.q.replace(/'/g, "\\'")}', 1)">üîä Normal</button>
          <button onclick="speak('${card.q.replace(/'/g, "\\'")}', 0.6)">üê¢ Slow</button>
        </div>
        <div class="step">‚úÖ <strong>Model Answer:</strong> ${card.a}</div>
        <div class="step">üìò <strong>Explanation:</strong> ${card.e}</div>
        <div class="step">üîç <strong>Example:</strong> ${card.ex}</div>
      `;
      el.onclick = function (e) {
        // Ignorar clics en los botones
        if (e.target.tagName === 'BUTTON') return;

        const steps = this.querySelectorAll('.step');
        for (let i = 0; i < steps.length; i++) {
          if (!steps[i].classList.contains('visible')) {
            steps[i].classList.add('visible');
            progress += 100 / (flashcards.length * 3);
            document.getElementById('progress').style.width = Math.min(progress, 100) + '%';
            break;
          }
        }
      };
      container.appendChild(el);
    });
  </script>
</body>
</html>
